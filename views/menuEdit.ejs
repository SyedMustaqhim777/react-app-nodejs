<!DOCTYPE html>
<html>
  <head>
    <title><%= title %></title>
    <link rel="stylesheet" href="/stylesheets/style.css" />
  </head>
  <body>
    <script type="text/javascript">
      updateItem = () => {
        console.log("hi")
        var record = {};
        record.id = $("#id").val();
        record.name = $("#name").val();
        record.description = $("#description").val();
        record.price = $("#price").val();
        if (record.name == "") {
          alert("Name cannot be blank.");
        } else {
          $.ajax({
            url: "/api/menu",
            method: "PUT",
            data: record,
            success: function (response) {
              if (response.result == "success") {
                location = "/menu";
              } else {
                alert(response.msg);
              }
            },
          });
        }
      };
    </script>
    <script
      type="text/javascript"
      src="https:code.jquery.com/jquery-3.5.1.min.js"
    ></script>
    <h1><%= title %></h1>
    <div id="login">
      <input
        id="id"
        type="text"
        name=""
        placeholder="id"
        value="<%= menu.id %>"
        readonly
      /><br /><br />
      <input
        id="name"
        type="text"
        name=""
        placeholder="Enter name"
        value="<%= menu.name %>"
      /><br /><br />
      <input
        id="description"
        type="text"
        name=""
        placeholder="Enter description"
        value="<%= menu.description %>"
      /><br /><br />
      <input
        id="price"
        type="text"
        name=""
        placeholder="Enter price"
        value="<%= menu.price %>"
      /><br /><br />
      <input
        onclick="updateItem();"
        type="button"
        name=""
        value="Submit"
      /><br />
    </div>
  </body>
</html>
